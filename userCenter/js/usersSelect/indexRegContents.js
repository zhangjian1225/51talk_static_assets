"use strict";define("usersSelect/indexRegContents",["tpl/usersSelect/index.js","../common/util","../common/sidebar.js","../common/sidebarRt.js","../common/exBanner.js"],function(e,s,t){var a=e("tpl/usersSelect/index.js"),o=e("../common/util");({getTrialConfig:function(){$.ajax({url:window.use_url+"/api/trialConfig",type:"get",dataType:"json",data:{},success:function(e){1e4==e.status?($("#moreContent").html(a.moreContent(e)),o.replaceImgUrl("#moreContent",static_url),n(e)):alert(e.info)}})}}).getTrialConfig(),$("#usersSelect").html(a.index_regContents()),o.replaceImgUrl("#usersSelect",static_url),o.renderHeaderBottom(),e("../common/sidebar.js"),e("../common/sidebarRt.js"),e("../common/exBanner.js");var n=function(e){({regEndsList:$(".regEnds_list"),moreSubList:$(".moreSub_list"),comCheck:$(".comCheck"),_event:function(){var t=this;this.regEndsList.find("li").on("click",function(){var e=$(this).attr("data-tab"),s="stuAge"+e;"2"==e&&($(".moreSubs").addClass("subsThree"),$(".moreSubs").find(".youth").hide(),$(".moreSubs").find(".ault").show()),$("#"+s).show(),t.regEndsList.hide(),t.moreSubList.show()}),$(".subBtn").find("dd").on("click",function(){var e=$(this).parents("dl");e.hasClass("stuAge")?t.changeEvent($(this),"stuAge"):e.hasClass("garde")?t.changeEvent($(this),"garde"):e.hasClass("purpose")?t.changeEvent($(this),"purpose"):e.hasClass("engLevel")&&t.changeEvent($(this),"engLevel")}),$(".formSub .return").on("click",function(){t.regEndsList.show(),t.moreSubList.hide(),t.moreSubList.find("dl").hide(),t.moreSubList.find("dl dd").removeClass("check"),$(".jsCheck").val("0"),$(".formSub .complete").removeClass("comCheck"),$(".moreSubs").addClass("subsTwo"),$(".moreSubs").removeClass("subsThree"),$(".moreSubs").find(".youth").show(),$(".moreSubs").find(".ault").hide()}),this.moreSubList.find(".complete").on("click",function(){$(this).hasClass("comCheck")&&$.post(window.use_url+"/api/upUserOccupInfo",{occup:$("#stuAge").val(),grade:$("#garde").val(),purpose:$("#purpose").val(),english_level:$("#engLevel").val(),age:$("#age").val()},function(e){1e4==e.status?window.location.href=window.content_url:alert(e.info)})})},changeEvent:function(e,s){var t=e.parents("dl"),a=(e.attr("data-id"),"garde"+e.attr("data-id")),o="purpose"+e.attr("data-id"),n="engLevel"+e.attr("data-id");$("#"+s).show().siblings(".id").hide(),e.addClass("check").siblings().removeClass("check"),t.nextAll().find("dd").removeClass("check"),t.nextAll().hide(),$("#"+s).val(e.attr("data-value")),$(".formSub .complete").removeClass("comCheck"),"stuAge"==s?(e.parents(".moreSubs").removeClass("subsTwo"),1==e.attr("data-show")?$("#"+o).show().siblings(".purpose").hide():$("#"+a).show().siblings(".garde").hide()):"garde"==s?(1==e.attr("data-show")?$("#"+n).show().siblings(".engLevel").hide():$("#"+o).show().siblings(".purpose").hide(),"7"==$("#stuAge").val()?($("#age").val(e.attr("data-value")),$("#purpose").val("0"),$("#garde").val("0")):$("#age").val("0")):"purpose"==s?$("#"+n).show().siblings(".engLevel").hide():"engLevel"==s&&$(".formSub").find(".complete").addClass("comCheck")}})._event()}});